<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>libs/comp/models</title>
        <link rel="stylesheet" href="/_static/index.css">
        <link rel="stylesheet" href="/_static/pygments.css">
        <link rel="apple-touch-icon" sizes="180x180" href="/_static/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/_static/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/_static/favicon-16x16.png">
        <link rel="manifest" href="/_static/site.webmanifest">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                renderMathInElement(document.body, {
                  delimiters: [
                      {left: ':::tex', right: ':::', display: true},
                      {left: ':tex', right: ':', display: false},
                  ],
                  throwOnError : false
                });
            });
        </script>
    </head>     
    <body>
        <header class="header">
            <div class="menu-div">
                
                    <a href="/" class="menu-item">home</a>
                
                    <a href="/about" class="menu-item">about</a>
                
                    <a href="/education" class="menu-item">education</a>
                
                    <a href="/research" class="menu-item">research</a>
                
                    <a href="/publications" class="menu-item">publications</a>
                
                    <a href="/work" class="menu-item">work</a>
                
                    <a href="/setup" class="menu-item">setup</a>
                
                    <a href="/libs" class="menu-item ">libs</a>
                
                    <a href="/notes" class="menu-item ">notes</a>
                
                    <a href="/glossary" class="menu-item ">glossary</a>
                
            </div>    
        </header>
        <div class="content">
            
            
            <div class="sidebar">
                <span class="sidebar-title">libs menu</span>
                <ul class="sidebar-ul">
                    
                        
    
    

    
        <li class="sidebar-collapsible">
            <details open>
                <summary>
                  <span></span>
                  
                      <a href="/libs/typed">typed</a>
                  
                </summary>
                <ul class="sidebar-ul-inner-1">
                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/overview">overview</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/types">types</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/models">models</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/errors">errors</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/examples">examples</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/api">api</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/glossary">glossary</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">└─</span>
            
                <a href="/libs/typed/changelog">changelog</a>
            
            
        </li>
    

                    
                </ul>
            </details>
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-collapsible">
            <details open>
                <summary>
                  <span></span>
                  
                      <a href="/libs/comp">comp</a>
                  
                </summary>
                <ul class="sidebar-ul-inner-1">
                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/overview">overview</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/jinja">jinja</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/components">components</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/models">models</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/rendering">rendering</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/compatibility">compatibility</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/styles">styles</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/glossary">glossary</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">└─</span>
            
                <a href="/libs/comp/changelog">changelog</a>
            
            
        </li>
    

                    
                </ul>
            </details>
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-li-0">
            <span></span>
              
                  <a href="/libs/cli">cli</a>
               
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-li-0">
            <span></span>
              
                  <a href="/libs/controller">controller</a>
               
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-li-0">
            <span></span>
              
                  <a href="/libs/utils">utils</a>
               
        </li>
    

                    
                </ul>
            </div>
            
            
            
            <div class="main">
                
                    


<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
    
    
        
            
            <li class="breadcrumb-item">
                <a href="/libs">libs</a>
            </li>
        
    
        
            
            <li class="breadcrumb-item">
                <span class="breadcrumb-separator">/</span><a href="/libs/comp">comp</a>
            </li>
        
    
        
            <li class="breadcrumb-item active" aria-current="page">
                <span class="breadcrumb-separator">/</span><a href="/libs/comp/models">models</a>
            </li>
        
    
    </ol>
</nav>

                
                
                
                <main><section id="about">
<h1>About<a class="headerlink" href="#about" title="Link to this heading"></a></h1>
<p>In this documentation we described the use of <em>models</em> in the <code class="docutils literal notranslate"><span class="pre">app</span></code> component system.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#review">Review</a></p></li>
<li><p><a class="reference internal" href="#models">Models</a></p></li>
<li><p><a class="reference internal" href="#accessing-values">Accessing Values</a></p></li>
<li><p><a class="reference internal" href="#builtins-models">Builtins Models</a></p></li>
<li><p><a class="reference internal" href="#model-components">Model Components</a></p></li>
<li><p><a class="reference internal" href="#constructing">Constructing</a></p></li>
<li><p><a class="reference internal" href="#other-docs">Other Docs</a></p></li>
</ol>
</section>
<section id="review">
<h1>Review<a class="headerlink" href="#review" title="Link to this heading"></a></h1>
<p>Recall that in the <code class="docutils literal notranslate"><span class="pre">app</span></code> component system, a <em>component</em> is a typed function (in the sense of {typed}) such that:</p>
<ol class="arabic simple">
<li><p>it returns a <em>jinja string</em>, i.e, its codomain is a subtype of <code class="docutils literal notranslate"><span class="pre">Jinja</span></code>;</p></li>
<li><p>it is decorated with the <code class="docutils literal notranslate"><span class="pre">&#64;component</span></code> decorator.</p></li>
</ol>
<p>A component may contains certain <em>special variables</em>, as:</p>
<ol class="arabic simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">__depends_on__</span></code> variable, which lists the components that a defining component depends on;</p></li>
<li><p>the <em>inner vars</em>, which are variables of type <code class="docutils literal notranslate"><span class="pre">Inner</span></code></p></li>
<li><p>the <em>content vars</em>, which are variables of type <code class="docutils literal notranslate"><span class="pre">Content</span></code> (these will be discussed in <a class="reference internal" href="#./4-statics"><span class="xref myst">Statics</span></a>).</p></li>
</ol>
</section>
<section id="models">
<h1>Models<a class="headerlink" href="#models" title="Link to this heading"></a></h1>
<p>By definition, there is no restriction on the <em>domain</em> of a component, except by the fact that it can contains certain special variables, as described above. This means that the “typical variables” may have any type.</p>
<p>However, a better way to organize the components is to work with <em>models</em> (in the sense of {typed}), grouping the “typical variables” in a more semantic entity.</p>
<p>So, for example, consider the following component:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Jinja</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="nd">@component</span>
<span class="linenos">5</span><span class="k">def</span><span class="w"> </span><span class="nf">my_comp</span><span class="p">(</span><span class="n">some_var</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span>  <span class="n">other_var</span><span class="p">:</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">7</span><span class="s2">    ...</span>
<span class="linenos">8</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>You could join <code class="docutils literal notranslate"><span class="pre">some_var</span></code> and <code class="docutils literal notranslate"><span class="pre">other_var</span></code> into a single entity (for full details on using models, see {typed/models}):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">model</span><span class="p">,</span> <span class="n">Optional</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="nd">@model</span>
<span class="linenos">5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyComp</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="n">some_var</span><span class="p">:</span>  <span class="n">Optional</span><span class="p">(</span><span class="n">SomeType</span><span class="p">,</span> <span class="n">SomeType</span><span class="p">())</span>
<span class="linenos">7</span>    <span class="n">other_var</span><span class="p">:</span> <span class="n">Optional</span><span class="p">(</span><span class="n">OtherType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">())</span>
<span class="linenos">8</span>    <span class="o">...</span>
</pre></div>
</div>
<p>Then, one could rewrite <code class="docutils literal notranslate"><span class="pre">my_comp</span></code>  as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Jinja</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">some.where</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyComp</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="nd">@component</span>
<span class="linenos">5</span><span class="k">def</span><span class="w"> </span><span class="nf">my_comp</span><span class="p">(</span><span class="n">my_comp</span><span class="p">:</span> <span class="n">MyComp</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">7</span><span class="s2">    ...</span>
<span class="linenos">8</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<blockquote id="rem-1">
<div><p><a class="reference internal" href="#rem-1">Remark 1</a>. The recommendation is to create models with the decorator <code class="docutils literal notranslate"><span class="pre">&#64;model</span></code> and all variables being <code class="docutils literal notranslate"><span class="pre">Optional</span></code> (in the sense of {typed/models}). This will allow more flexibility in the rendering of the component, as described in <a class="reference internal" href="#./3-rendering"><span class="xref myst">Rendering</span></a>, without breaking type safety. However, you are free to create the models as you want, say using more rigid decorators, as <code class="docutils literal notranslate"><span class="pre">&#64;exact</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;ordered</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;rigid</span></code>, or avoiding <code class="docutils literal notranslate"><span class="pre">Optional</span></code> arguments.</p>
</div></blockquote>
</section>
<section id="accessing-values">
<h1>Accessing Values<a class="headerlink" href="#accessing-values" title="Link to this heading"></a></h1>
<p>To each internal variable of a <em>model</em> there corresponds a namesake attribute. This means that if <code class="docutils literal notranslate"><span class="pre">SomeModel</span></code> is a model with a variable <code class="docutils literal notranslate"><span class="pre">some_var</span></code> and if <code class="docutils literal notranslate"><span class="pre">model:</span> <span class="pre">SomeModel</span></code> is a variable of type <code class="docutils literal notranslate"><span class="pre">SomeModel</span></code>, you could access the values <code class="docutils literal notranslate"><span class="pre">some_var</span></code> as <code class="docutils literal notranslate"><span class="pre">model.some_var</span></code>.</p>
<p>In terms of the component <code class="docutils literal notranslate"><span class="pre">my_comp</span></code> defined above, one could then access <code class="docutils literal notranslate"><span class="pre">my_comp.some_var</span></code> and <code class="docutils literal notranslate"><span class="pre">my_comp.other_var</span></code> in the <em>body</em> of the component function, i.e, as <em>local variables</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Jinja</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">some.where</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyComp</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@component</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">my_comp</span><span class="p">(</span><span class="n">my_comp</span><span class="p">:</span> <span class="n">MyComp</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">some_value</span>  <span class="o">=</span> <span class="n">my_comp</span><span class="o">.</span><span class="n">some_var</span>
<span class="linenos"> 7</span>    <span class="n">other_value</span> <span class="o">=</span> <span class="n">my_comp</span><span class="o">.</span><span class="n">other_var</span>
<span class="linenos"> 8</span>    <span class="o">...</span>
<span class="linenos"> 9</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">10</span><span class="s2">    ...</span>
<span class="linenos">11</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>In this case, since local variables of components are automatically added to context of the component, <code class="docutils literal notranslate"><span class="pre">some_value</span></code> and <code class="docutils literal notranslate"><span class="pre">other_value</span></code> could then be used inside the returning <em>jinja string</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Jinja</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">some.where</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyComp</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@component</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">my_comp</span><span class="p">(</span><span class="n">my_comp</span><span class="p">:</span> <span class="n">MyComp</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">some_value</span>  <span class="o">=</span> <span class="n">my_comp</span><span class="o">.</span><span class="n">some_var</span>
<span class="linenos"> 7</span>    <span class="n">other_value</span> <span class="o">=</span> <span class="n">my_comp</span><span class="o">.</span><span class="n">other_var</span>
<span class="linenos"> 8</span>    <span class="o">...</span>
<span class="linenos"> 9</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos">10</span><span class="s2">    ...</span>
<span class="linenos">11</span><span class="s2">    {{ some_value }}</span>
<span class="linenos">12</span><span class="s2">    ...</span>
<span class="linenos">13</span><span class="s2">    {{ other_value }}</span>
<span class="linenos">14</span><span class="s2">    ...</span>
<span class="linenos">15</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>The remarkable point here is that, in the construction of the <code class="docutils literal notranslate"><span class="pre">&#64;component</span></code> decorator, if a variable is defined with type being a model, then all attributes are directly added in the context as well. Therefore, you could use <code class="docutils literal notranslate"><span class="pre">my_comp.some_var</span></code>, etc, directly inside the <em>jinja string</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span><span class="p">,</span> <span class="n">Jinja</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">some.where</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyComp</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@component</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">my_comp</span><span class="p">(</span><span class="n">my_comp</span><span class="p">:</span> <span class="n">MyComp</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Jinja</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="o">...</span>
<span class="linenos"> 7</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;jinja</span>
<span class="linenos"> 8</span><span class="s2">    ...</span>
<span class="linenos"> 9</span><span class="s2">    {{ my_comp.some_var }}</span>
<span class="linenos">10</span><span class="s2">    ...</span>
<span class="linenos">11</span><span class="s2">    {{ my_comp.other_var }}</span>
<span class="linenos">12</span><span class="s2">    ...</span>
<span class="linenos">13</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
</section>
<section id="builtins-models">
<h1>Builtins Models<a class="headerlink" href="#builtins-models" title="Link to this heading"></a></h1>
<p>Inside the module <code class="docutils literal notranslate"><span class="pre">app.models</span></code> you will encounter a plethora of ready to use models, one for each basic HTML tag.</p>
<div class="captioned-table" id="table-1">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>model</p></th>
<th class="head"><p>tag</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Div</p></td>
<td><p>&lt;div&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>Text</p></td>
<td><p>&lt;p&gt;</p></td>
</tr>
<tr class="row-even"><td><p>Title</p></td>
<td><p>&lt;h1&gt;, &lt;h2&gt;, … &lt;h6&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>Link</p></td>
<td><p>&lt;a&gt;</p></td>
</tr>
<tr class="row-even"><td><p>Image</p></td>
<td><p>&lt;img&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>Figure</p></td>
<td><p>&lt;figure&gt;</p></td>
</tr>
<tr class="row-even"><td><p>Button</p></td>
<td><p>&lt;button&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>Script</p></td>
<td><p>&lt;script&gt;</p></td>
</tr>
<tr class="row-even"><td><p>Asset</p></td>
<td><p>&lt;link&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-1">table 1</a></p>
</div>
<p>The attributes of the builtin models correspond to (mostly of) the <a class="autolink autolink-global reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes">HTML tag attributes</a> of the underlying HTML tags. There is also a <code class="docutils literal notranslate"><span class="pre">Globals</span></code> model, which contains the <a class="autolink autolink-global reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Global_attributes">HTML global attributes</a>, which are shared across all HTML tags.</p>
<p>The global attributes can be accessed in each builtin model from a <code class="docutils literal notranslate"><span class="pre">globals</span></code> variable. The only exception are the global attributes <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">class</span></code>, which appears as independent variables inside each model, named according to the tag name:</p>
<div class="captioned-table" id="table-2">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>model</p></th>
<th class="head"><p>tag</p></th>
<th class="head"><p>attributes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Div</p></td>
<td><p>&lt;div&gt;</p></td>
<td><p>div_id, div_class, …</p></td>
</tr>
<tr class="row-odd"><td><p>Text</p></td>
<td><p>&lt;p&gt;</p></td>
<td><p>text_id, text_class, …</p></td>
</tr>
<tr class="row-even"><td><p>Title</p></td>
<td><p>&lt;h1&gt;, &lt;h2&gt;, … &lt;h6&gt;</p></td>
<td><p>title_id, title_class, …</p></td>
</tr>
<tr class="row-odd"><td><p>Link</p></td>
<td><p>&lt;a&gt;</p></td>
<td><p>link_id, link_class,  …</p></td>
</tr>
<tr class="row-even"><td><p>Image</p></td>
<td><p>&lt;img&gt;</p></td>
<td><p>img_id, img_class, …</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-2">table 2</a></p>
</div>
</section>
<section id="model-components">
<h1>Model Components<a class="headerlink" href="#model-components" title="Link to this heading"></a></h1>
<p>To each <em>builtin model</em>, say associated with a tag <code class="docutils literal notranslate"><span class="pre">model-tag</span></code>, there corresponds a namesake <em>builtin component</em>, which has a namesake variable of the given model type, and eventually a single <em>inner var</em>, maybe depending on others builtin components. These are the so-called <em>model components</em>.</p>
<div class="captioned-table" id="table-3">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>model</p></th>
<th class="head"><p>component</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Div</p></td>
<td><p>div</p></td>
</tr>
<tr class="row-odd"><td><p>Text</p></td>
<td><p>text</p></td>
</tr>
<tr class="row-even"><td><p>Title</p></td>
<td><p>title</p></td>
</tr>
<tr class="row-odd"><td><p>Link</p></td>
<td><p>link</p></td>
</tr>
<tr class="row-even"><td><p>Image</p></td>
<td><p>img</p></td>
</tr>
<tr class="row-odd"><td><p>Figure</p></td>
<td><p>figure</p></td>
</tr>
<tr class="row-even"><td><p>Button</p></td>
<td><p>button</p></td>
</tr>
<tr class="row-odd"><td><p>Script</p></td>
<td><p>script</p></td>
</tr>
<tr class="row-even"><td><p>Asset</p></td>
<td><p>asset</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-3">table 3: model components</a></p>
</div>
<p>So, the generic structure of a <em>model component</em> is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app</span><span class="w"> </span><span class="kn">import</span> <span class="n">component</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">app.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeModel</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@component</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">some_model</span><span class="p">(</span><span class="n">some_model</span><span class="p">:</span> <span class="n">SomeModel</span><span class="o">=</span><span class="n">SomeModel</span><span class="p">(),</span> <span class="n">inner</span><span class="p">:</span> <span class="n">Inner</span><span class="o">=</span><span class="n">Inner</span><span class="p">(),</span> <span class="n">__depends_on__</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tag</span><span class="p">(</span><span class="s1">&#39;model-tag&#39;</span><span class="p">):</span>
<span class="linenos"> 6</span>    <span class="o">...</span>
<span class="linenos"> 7</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="linenos"> 8</span><span class="s2">&lt;model-tag&gt;</span>
<span class="linenos"> 9</span><span class="s2">    ...</span>
<span class="linenos">10</span><span class="s2">    {{ inner }}</span>
<span class="linenos">11</span><span class="s2">    ...</span>
<span class="linenos">12</span><span class="s2">&lt;/model-tag&gt;</span>
<span class="linenos">13</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Actually, the <code class="docutils literal notranslate"><span class="pre">&lt;model-tag&gt;</span></code> in a <em>model component</em> is dynamically constructed with all attributes of the model <code class="docutils literal notranslate"><span class="pre">SomeModel</span></code> that are not null in the instance <code class="docutils literal notranslate"><span class="pre">some_model</span></code>. So, for example, if <code class="docutils literal notranslate"><span class="pre">some_model.some_attr</span></code> is set to <code class="docutils literal notranslate"><span class="pre">some_value</span></code>, then it will appear in the returning <em>jinja string</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="nd">@component</span>
<span class="linenos"> 2</span><span class="k">def</span><span class="w"> </span><span class="nf">some_model</span><span class="p">(</span><span class="n">some_model</span><span class="p">:</span> <span class="n">SomeModel</span><span class="o">=</span><span class="n">SomeModel</span><span class="p">(),</span> <span class="n">inner</span><span class="p">:</span> <span class="n">Inner</span><span class="o">=</span><span class="n">Inner</span><span class="p">(),</span> <span class="n">__depends_on__</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tag</span><span class="p">(</span><span class="s1">&#39;model-tag&#39;</span><span class="p">):</span>
<span class="linenos"> 3</span>    <span class="o">...</span>
<span class="linenos"> 4</span>    <span class="k">return</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="linenos"> 5</span><span class="s2">&lt;model-tag some_attr=&quot;some_value&quot;&gt;</span>
<span class="linenos"> 6</span><span class="s2">    ...</span>
<span class="linenos"> 7</span><span class="s2">    {{ inner }}</span>
<span class="linenos"> 8</span><span class="s2">    ...</span>
<span class="linenos"> 9</span><span class="s2">&lt;/model-tag&gt;</span>
<span class="linenos">10</span><span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>Otherwise, i.e, if <code class="docutils literal notranslate"><span class="pre">some_model.some_attr</span></code> is not set, then the  field <code class="docutils literal notranslate"><span class="pre">some_attr</span></code> is <em>not</em> included in the returning <code class="docutils literal notranslate"><span class="pre">&lt;model-tag&gt;</span></code>, turning the code much more clean.</p>
<blockquote>
<div><p>This happens because the <em>jinja string</em> of a model component is constructed with the help of <code class="docutils literal notranslate"><span class="pre">if_</span></code> helper functions from <code class="docutils literal notranslate"><span class="pre">app.helper</span></code>.</p>
</div></blockquote>
</section>
<section id="constructing">
<h1>Constructing<a class="headerlink" href="#constructing" title="Link to this heading"></a></h1>
<p>Recall that there are certain operations in the type <code class="docutils literal notranslate"><span class="pre">COMPONENT</span></code> of all components:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">join</span></code>: corresponding to <code class="docutils literal notranslate"><span class="pre">+</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat</span></code>: corresponding <code class="docutils literal notranslate"><span class="pre">*</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eval</span></code>: corresponding <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
</ol>
<p>Using the builtin <em>model components</em> and the operations above, you can build derived components very quickly. For instance, suppose you want to build a <code class="docutils literal notranslate"><span class="pre">div</span></code> with a title followed by a paragraph. You can just take:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">app.components</span><span class="w"> </span><span class="kn">import</span> <span class="n">div</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">text</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">my_comp</span> <span class="o">=</span> <span class="n">div</span> <span class="o">*</span> <span class="p">(</span><span class="n">title</span> <span class="o">+</span> <span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
<p>The obtained component have the variables <code class="docutils literal notranslate"><span class="pre">div:</span> <span class="pre">Div</span></code>, <code class="docutils literal notranslate"><span class="pre">title:</span> <span class="pre">Title</span></code> and <code class="docutils literal notranslate"><span class="pre">text:</span> <span class="pre">Text</span></code>, whose attributes can then be fixed to produce concrete instances of <code class="docutils literal notranslate"><span class="pre">my_comp</span></code>.</p>
</section>
<section id="other-docs">
<h1>Other Docs<a class="headerlink" href="#other-docs" title="Link to this heading"></a></h1>
<ol class="arabic simple">
<li><p><a class="reference internal" href="overview.html">overview</a></p></li>
<li><p><a class="reference internal" href="jinja.html">jinja</a></p></li>
<li><p><a class="reference internal" href="components.html">components</a></p></li>
<li><p><a class="reference internal" href="rendering.html">rendering</a></p></li>
<li><p><a class="reference internal" href="compatibility.html">compatibility</a></p></li>
<li><p><a class="reference internal" href="styles.html">styles</a></p></li>
<li><p><a class="reference internal" href="glossary.html">glossary</a></p></li>
<li><p><a class="reference internal" href="changelog.html">changelog</a></p></li>
</ol>
</section>
</main>
            </div>
        </div>
        <footer class="footer">
            <p class="footer-text">
                Yuri Ximenes, 2025. Last update: <purple>2025/09/26 at 13:44</purple>.<br>
                Made using <a href="https://www.sphinx-doc.org/en/master/">sphinx</a>.
            </p>
        </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.matchMedia("(max-width: 768px)").matches) {
                document.querySelectorAll('.sidebar-collapsible > details[open]').forEach(function(details){
                    details.removeAttribute('open');
                });
            }
        });
    </script>
    </body>  
</html>