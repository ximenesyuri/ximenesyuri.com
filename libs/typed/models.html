<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>libs/typed/models</title>
        <link rel="stylesheet" href="/_static/index.css">
        <link rel="stylesheet" href="/_static/pygments.css">
        <link rel="apple-touch-icon" sizes="180x180" href="/_static/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/_static/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/_static/favicon-16x16.png">
        <link rel="manifest" href="/_static/site.webmanifest">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                renderMathInElement(document.body, {
                  delimiters: [
                      {left: ':::tex', right: ':::', display: true},
                      {left: ':tex', right: ':', display: false},
                  ],
                  throwOnError : false
                });
            });
        </script>
    </head>     
    <body>
        <header class="header">
            <div class="menu-div">
                
                    <a href="/" class="menu-item">home</a>
                
                    <a href="/about" class="menu-item">about</a>
                
                    <a href="/education" class="menu-item">education</a>
                
                    <a href="/research" class="menu-item">research</a>
                
                    <a href="/publications" class="menu-item">publications</a>
                
                    <a href="/work" class="menu-item">work</a>
                
                    <a href="/setup" class="menu-item">setup</a>
                
                    <a href="/libs" class="menu-item ">libs</a>
                
                    <a href="/notes" class="menu-item ">notes</a>
                
                    <a href="/glossary" class="menu-item ">glossary</a>
                
            </div>    
        </header>
        <div class="content">
            
            
            <div class="sidebar">
                <span class="sidebar-title">libs menu</span>
                <ul class="sidebar-ul">
                    
                        
    
    

    
        <li class="sidebar-collapsible">
            <details open>
                <summary>
                  <span></span>
                  
                      <a href="/libs/typed">typed</a>
                  
                </summary>
                <ul class="sidebar-ul-inner-1">
                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/overview">overview</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/types">types</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/models">models</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/errors">errors</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/examples">examples</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/api">api</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/glossary">glossary</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">└─</span>
            
                <a href="/libs/typed/changelog">changelog</a>
            
            
        </li>
    

                    
                </ul>
            </details>
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-collapsible">
            <details open>
                <summary>
                  <span></span>
                  
                      <a href="/libs/comp">comp</a>
                  
                </summary>
                <ul class="sidebar-ul-inner-1">
                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/overview">overview</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/jinja">jinja</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/components">components</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/models">models</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/rendering">rendering</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/compatibility">compatibility</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/styles">styles</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/glossary">glossary</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">└─</span>
            
                <a href="/libs/comp/changelog">changelog</a>
            
            
        </li>
    

                    
                </ul>
            </details>
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-li-0">
            <span></span>
              
                  <a href="/libs/cli">cli</a>
               
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-li-0">
            <span></span>
              
                  <a href="/libs/controller">controller</a>
               
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-li-0">
            <span></span>
              
                  <a href="/libs/utils">utils</a>
               
        </li>
    

                    
                </ul>
            </div>
            
            
            
            <div class="main">
                
                    


<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
    
    
        
            
            <li class="breadcrumb-item">
                <a href="/libs">libs</a>
            </li>
        
    
        
            
            <li class="breadcrumb-item">
                <span class="breadcrumb-separator">/</span><a href="/libs/typed">typed</a>
            </li>
        
    
        
            <li class="breadcrumb-item active" aria-current="page">
                <span class="breadcrumb-separator">/</span><a href="/libs/typed/models">models</a>
            </li>
        
    
    </ol>
</nav>

                
                
                
                <main><section id="about">
<h1>About<a class="headerlink" href="#about" title="Link to this heading"></a></h1>
<p>This documentation covers the <em>models system</em> of {typed} which is used specifically to data validation.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#overview">Overview</a></p></li>
<li><p><a class="reference internal" href="#model-factories">Model Factories</a></p></li>
<li><p><a class="reference internal" href="#validation-conditions">Validation Conditions</a></p></li>
<li><p><a class="reference internal" href="#model-types">Model Types</a></p></li>
<li><p><a class="reference internal" href="#defining-models">Defining Models</a></p></li>
<li><p><a class="reference internal" href="#decorators">Decorators</a></p></li>
<li><p><a class="reference internal" href="#universal-decorator">Universal Decorator</a></p></li>
<li><p><a class="reference internal" href="#data-validation">Data Validation</a></p></li>
<li><p><a class="reference internal" href="#optional-attributes">Optional Attributes</a></p></li>
<li><p><a class="reference internal" href="#optional-decorator">Optional Decorator</a></p></li>
<li><p><a class="reference internal" href="#mandatory-attributes">Mandatory Attributes</a></p></li>
<li><p><a class="reference internal" href="#model-extension">Model Extension</a></p></li>
<li><p><a class="reference internal" href="#filtering-models">Filtering Models</a></p></li>
<li><p><a class="reference internal" href="#model-attributes">Model Attributes</a></p></li>
<li><p><a class="reference internal" href="#model-operations">Model Operations</a></p></li>
<li><p><a class="reference internal" href="#other-docs">Other Docs</a></p></li>
</ol>
</section>
<section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h1>
<p>The <em>models system</em> is defined in the <code class="docutils literal notranslate"><span class="pre">typed.models</span></code> module, such that:</p>
<ol class="arabic simple">
<li><p>it provides <em>model factories</em>, which are type factories constructing <em>models</em>;</p></li>
<li><p>the difference between the kinds of <em>model factories</em> is how data is validated in instances of their <em>models</em>;</p></li>
<li><p>each <em>model factory</em> has a corresponding <em>model type</em>, consisting  of all its <em>models</em>;</p></li>
<li><p>the process of creating <em>models</em> is compatible with other sources of data validation structures, as Python <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html">dataclasses</a> and <a class="reference external" href="https://github.com/pydantic/pydantic">pydantic</a> <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code>.</p></li>
</ol>
</section>
<section id="model-factories">
<h1>Model Factories<a class="headerlink" href="#model-factories" title="Link to this heading"></a></h1>
<p>Recall that in {typed} we have <em>type factories</em>, which are functions that return a <em>type</em>, hence that take values into the <em>metatype</em> <code class="docutils literal notranslate"><span class="pre">TYPE</span></code> of all types. Recall, yet, that we have a primitive type <code class="docutils literal notranslate"><span class="pre">Json</span></code>.</p>
<p>In a very general perspective, a <em>model factory</em> is a <em>type factory</em> such that:</p>
<ol class="arabic simple">
<li><p>it has only keyword arguments;</p></li>
<li><p>the value of each <code class="docutils literal notranslate"><span class="pre">kwarg</span></code> is a type;</p></li>
<li><p>the key of each <code class="docutils literal notranslate"><span class="pre">kwarg</span></code> defines an attribute in the returning type;</p></li>
<li><p>its returning type is a subtype of <code class="docutils literal notranslate"><span class="pre">Json</span></code>.</p></li>
</ol>
<p>In other words, a <em>type factory</em> is a function <code class="docutils literal notranslate"><span class="pre">ModelFactory:</span> <span class="pre">Dict(TYPE)</span> <span class="pre">-&gt;</span> <span class="pre">TYPE</span></code> such that:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">ModelFactory(**kwargs)</span></code> is a subtype of <code class="docutils literal notranslate"><span class="pre">Json</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">model.key</span></code> is defined for each <code class="docutils literal notranslate"><span class="pre">key</span></code> in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>.</p></li>
</ol>
<p>We have the following <em>model factories</em>:</p>
<div class="captioned-table" id="table-1">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>model factory</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Model</p></td>
<td><p>the factory of _basic_ modes</p></td>
</tr>
<tr class="row-odd"><td><p>Exact</p></td>
<td><p>the factory of _strict_ models</p></td>
</tr>
<tr class="row-even"><td><p>Ordered</p></td>
<td><p>the factory of _ordered_ models</p></td>
</tr>
<tr class="row-odd"><td><p>Rigid</p></td>
<td><p>the factory of _rigid_ models</p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-1">table 1: model factories</a></p>
</div>
</section>
<section id="validation-conditions">
<h1>Validation Conditions<a class="headerlink" href="#validation-conditions" title="Link to this heading"></a></h1>
<p>In {typed}, a <em>model</em> is precisely a <em>type</em> which is constructed from a <em>model factory</em>. In other words, it is an instance <code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">ModelFactory(**kwargs)</span></code> for some <code class="docutils literal notranslate"><span class="pre">ModelFactory</span></code> listed above, and some <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> in <code class="docutils literal notranslate"><span class="pre">Dict(TYPE)</span></code>.</p>
<p>The difference between the <em>model factories</em> is precisely how their <em>models</em> are validated.</p>
<p>More precisely, since the <em>model factories</em> produces subtypes of <code class="docutils literal notranslate"><span class="pre">Json</span></code>, it follows that if <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">model)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then <code class="docutils literal notranslate"><span class="pre">x</span></code> is a <code class="docutils literal notranslate"><span class="pre">Json</span></code> data. Each <code class="docutils literal notranslate"><span class="pre">key</span></code> in <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> corresponds to an attribute of <code class="docutils literal notranslate"><span class="pre">model</span></code>, which, in turn, corresponds to an entry in each instance <code class="docutils literal notranslate"><span class="pre">x</span></code> of <code class="docutils literal notranslate"><span class="pre">model</span></code>, when viewed as a <code class="docutils literal notranslate"><span class="pre">Json</span></code> datas. The different flavors of <em>model factories</em> deals, precisely, with the reciprocal question:</p>
<blockquote>
<div><p>Take a <em>model factory</em> <code class="docutils literal notranslate"><span class="pre">ModelFactory</span></code>. Then, given an object <code class="docutils literal notranslate"><span class="pre">x</span></code> such that <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">Json)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, which conditions <code class="docutils literal notranslate"><span class="pre">x</span></code> should satisfy such that <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">model)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> for <code class="docutils literal notranslate"><span class="pre">model</span> <span class="pre">=</span> <span class="pre">ModelFactory(**kwargs)</span></code> for some <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> in <code class="docutils literal notranslate"><span class="pre">Dict(TYPE)</span></code>?</p>
</div></blockquote>
<p>The answers for each question are in the following table:</p>
<div class="captioned-table" id="table-2">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>model factory</p></th>
<th class="head"><p>validation condition</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Model</p></td>
<td><p>the json data contains at least the defined attributes</p></td>
</tr>
<tr class="row-odd"><td><p>Exact</p></td>
<td><p>the json data contains precisely the defined attributes</p></td>
</tr>
<tr class="row-even"><td><p>Ordered</p></td>
<td><p>the json data contains at least the defined attributes, but in the same ordering</p></td>
</tr>
<tr class="row-odd"><td><p>Rigid</p></td>
<td><p>the json data contains precisely the defined attributes, and in the same ordering</p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-2">table 2: validation conditions</a></p>
</div>
</section>
<section id="model-types">
<h1>Model Types<a class="headerlink" href="#model-types" title="Link to this heading"></a></h1>
<p>Each <em>model factory</em> defines a <em>type</em> whose instances are its <em>models</em>:</p>
<div class="captioned-table" id="table-3">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>model factory</p></th>
<th class="head"><p>models type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Model</p></td>
<td><p>MODEL</p></td>
</tr>
<tr class="row-odd"><td><p>Exact</p></td>
<td><p>EXACT</p></td>
</tr>
<tr class="row-even"><td><p>Ordered</p></td>
<td><p>ORDERED</p></td>
</tr>
<tr class="row-odd"><td><p>Rigid</p></td>
<td><p>RIGID</p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-3">table 3:  model types</a></p>
</div>
<p>So, <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">MODEL)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> iff <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">TYPE)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, and <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">Model(**kwargs)</span></code> for some dictionary <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> of type <code class="docutils literal notranslate"><span class="pre">Dict(TYPE)</span></code>. Analogously for the other <em>model factories</em> and <em>model types</em>.</p>
</section>
<section id="defining-models">
<h1>Defining Models<a class="headerlink" href="#defining-models" title="Link to this heading"></a></h1>
<p>Let <code class="docutils literal notranslate"><span class="pre">ModelFactory</span></code> be a generic <em>model factory</em>, i.e, some of that in <a class="reference internal" href="#table-1">table 1</a>. The typical way to define a model for it, is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelFactory</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">MyModel</span> <span class="o">=</span> <span class="n">ModelFactory</span><span class="p">(</span>
<span class="linenos">5</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span>
<span class="linenos">6</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span><span class="p">,</span>
<span class="linenos">7</span>    <span class="o">...</span>
<span class="linenos">8</span><span class="p">)</span>
</pre></div>
</div>
<p>So, for example, we define an instance of the <em>model type</em> <code class="docutils literal notranslate"><span class="pre">MODEL</span></code> as below (and Analogously for the other <em>model factories</em> and <em>model types</em>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Model</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="n">MyModel</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span>
<span class="linenos"> 5</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span>
<span class="linenos"> 6</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span><span class="p">,</span>
<span class="linenos"> 7</span>    <span class="o">...</span>
<span class="linenos"> 8</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">MODEL</span><span class="p">))</span> <span class="c1"># returns True</span>
</pre></div>
</div>
</section>
<section id="decorators">
<h1>Decorators<a class="headerlink" href="#decorators" title="Link to this heading"></a></h1>
<p>There is another way to define models, which is using the <em>model decorators</em>. Indeed, to each <em>model factory</em> there corresponds a namesake decorator, named in lowercase:</p>
<div class="captioned-table" id="table-4">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>model factor</p></th>
<th class="head"><p>decorator</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Model</p></td>
<td><p>&#64;model</p></td>
</tr>
<tr class="row-odd"><td><p>Exact</p></td>
<td><p>&#64;exact</p></td>
</tr>
<tr class="row-even"><td><p>Ordered</p></td>
<td><p>&#64;ordered</p></td>
</tr>
<tr class="row-odd"><td><p>Rigid</p></td>
<td><p>&#64;rigid</p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-4">table 4: model decorators</a></p>
</div>
<p>The decorators can be applied to any class. This will generate a model of the corresponding <em>model type</em>, based on the attributes of the given class. This can be used to quickly create models, as follows (same for other <em>model types</em> by making use of other <em>model decorators</em>):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">model</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="nd">@model</span>
<span class="linenos">5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span>
<span class="linenos">7</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span>
<span class="linenos">8</span>    <span class="o">...</span>
</pre></div>
</div>
<blockquote>
<div><p>This approach can also be used to convert models from other sources into {typed} models. In particular, this can be used to generate {typed} models from <a class="reference external" href="https://github.com/pydantic/pydantic">pydantic</a> models and from Python <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html">dataclasses</a>.</p>
</div></blockquote>
<blockquote>
<div><p>The approach of creating {typed} models from <em>model decorators</em> is recommended. Indeed, while created directly from a <em>model factory</em>, the model a fully dynamically entity. This means that a LSP will not collect its attributes. On the other hand, while using the <em>model decorators</em>, they are applied to static classes, whose attributes are recognized by LSPs, providing a better developing experience.</p>
</div></blockquote>
</section>
<section id="universal-decorator">
<h1>Universal Decorator<a class="headerlink" href="#universal-decorator" title="Link to this heading"></a></h1>
<p>Actually, one can use <code class="docutils literal notranslate"><span class="pre">&#64;model</span></code> as an “universal decorator”, in the sense that one can reconstruct the behavior of the other <em>model decorators</em> from it. Indeed, <code class="docutils literal notranslate"><span class="pre">&#64;model</span></code> contains boolean variables, as below, which, when set, introduce the corresponding decorator in the model construction.</p>
<div class="captioned-table" id="table-5">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>variable</p></th>
<th class="head"><p>model decorator</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>exact</p></td>
<td><p>&#64;exact</p></td>
</tr>
<tr class="row-odd"><td><p>ordered</p></td>
<td><p>&#64;ordered</p></td>
</tr>
<tr class="row-even"><td><p>rigid</p></td>
<td><p>&#64;rigid</p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-5">table 5: variables in &#64;model</a></p>
</div>
<p>For example, one could create an <em>exact model</em> as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">model</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@model</span><span class="p">(</span><span class="n">exact</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="k">def</span><span class="w"> </span><span class="nf">MyModel</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span>
<span class="linenos"> 7</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span>
<span class="linenos"> 8</span>    <span class="o">...</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">EXACT</span><span class="p">))</span> <span class="c1"># prints True</span>
</pre></div>
</div>
</section>
<section id="data-validation">
<h1>Data Validation<a class="headerlink" href="#data-validation" title="Link to this heading"></a></h1>
<p>One time defined a model, one can use it to:</p>
<ol class="arabic simple">
<li><p>validate existing <code class="docutils literal notranslate"><span class="pre">Json</span></code> data;</p></li>
<li><p>create already validated <code class="docutils literal notranslate"><span class="pre">Json</span></code> data.</p></li>
</ol>
<p>Indeed, suppose we have a given <code class="docutils literal notranslate"><span class="pre">json_data</span></code>. The validation can be realized by calling the model with the given <code class="docutils literal notranslate"><span class="pre">Json</span></code> data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>
<span class="linenos">2</span><span class="n">json_data</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">3</span>    <span class="s2">&quot;some_attr&quot;</span><span class="p">:</span> <span class="n">some_value</span><span class="p">,</span>
<span class="linenos">4</span>    <span class="s2">&quot;other_attr&quot;</span><span class="p">:</span> <span class="n">other_value</span>
<span class="linenos">5</span>    <span class="o">...</span>
<span class="linenos">6</span><span class="p">}</span>
<span class="linenos">7</span>
<span class="linenos">8</span><span class="n">validated_data</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span><span class="o">**</span><span class="n">json_data</span><span class="p">)</span>
</pre></div>
</div>
<p>Another way of validating a predefined <code class="docutils literal notranslate"><span class="pre">json_data</span></code> is through the <code class="docutils literal notranslate"><span class="pre">Validate</span></code> function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Validate</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">validated_data</span> <span class="o">=</span> <span class="n">Validate</span><span class="p">(</span>
<span class="linenos">4</span>    <span class="n">model</span><span class="o">=</span><span class="n">MyModel</span><span class="p">,</span>
<span class="linenos">5</span>    <span class="n">data</span><span class="o">=</span><span class="n">json_data</span>
<span class="linenos">6</span><span class="p">)</span>
</pre></div>
</div>
<p>The simplest way to <em>create</em> validated data is to call the model with specified <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">validated_data</span> <span class="o">=</span> <span class="n">MyModel</span><span class="p">(</span>
<span class="linenos">2</span>    <span class="n">some_attr</span><span class="o">=</span><span class="n">some_value</span><span class="p">,</span>
<span class="linenos">3</span>    <span class="n">other_attr</span><span class="o">=</span><span class="n">other_value</span><span class="p">,</span>
<span class="linenos">4</span>    <span class="o">...</span>
<span class="linenos">5</span><span class="p">)</span>
</pre></div>
</div>
<p>Independently of the case, if some condition used in the definition of the model <code class="docutils literal notranslate"><span class="pre">MyModel</span></code> is not satisfied, a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> will be raised.</p>
<blockquote>
<div><p>For more on the {typed} error messages, see <a class="reference internal" href="errors"><span class="doc std std-doc">errors</span></a>.</p>
</div></blockquote>
</section>
<section id="optional-attributes">
<h1>Optional Attributes<a class="headerlink" href="#optional-attributes" title="Link to this heading"></a></h1>
<p>In the moment of the definition of a model, one can determine certain attributes as <em>optional</em>. If the model is defined from a <em>model factory</em>, this can be done my making use of the <code class="docutils literal notranslate"><span class="pre">Optional:</span> <span class="pre">TYPE</span> <span class="pre">x</span> <span class="pre">Any</span> <span class="pre">-&gt;</span> <span class="pre">TYPE</span></code> directive, which receives an attribute and a default value:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="n">OptType</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelFactory</span><span class="p">,</span> <span class="n">Optional</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">MyModel</span> <span class="o">=</span> <span class="n">ModelFactory</span><span class="p">(</span>
<span class="linenos">5</span>    <span class="n">some_attr</span><span class="o">=</span><span class="n">SomeType</span><span class="p">,</span>
<span class="linenos">6</span>    <span class="n">other_attr</span><span class="o">=</span><span class="n">OtherValue</span><span class="p">,</span>
<span class="linenos">7</span>    <span class="n">opt_atrr</span><span class="o">=</span><span class="n">Optional</span><span class="p">(</span><span class="n">OptType</span><span class="p">,</span> <span class="n">default_value</span><span class="p">),</span>
<span class="linenos">8</span>    <span class="o">...</span>
<span class="linenos">9</span><span class="p">)</span>
</pre></div>
</div>
<p>Then, in the validation of some <code class="docutils literal notranslate"><span class="pre">json_data</span></code> through the model <code class="docutils literal notranslate"><span class="pre">MyModel</span></code>, if there is no entry named <code class="docutils literal notranslate"><span class="pre">opt_attr</span></code>, the validated data will be appended with such entry with value given by <code class="docutils literal notranslate"><span class="pre">default_value</span></code>.</p>
<p>The directive <code class="docutils literal notranslate"><span class="pre">Optional</span></code> also accept to do not pass a default value, i.e, it accepts a single argument <code class="docutils literal notranslate"><span class="pre">Optional(OptType)</span></code>. In this case:</p>
<ol class="arabic simple">
<li><p>First it will be checked if passed type <code class="docutils literal notranslate"><span class="pre">OptType</span></code> is <code class="docutils literal notranslate"><span class="pre">nullable</span></code>. In this case, <code class="docutils literal notranslate"><span class="pre">Optional(OptType)</span></code> will return <code class="docutils literal notranslate"><span class="pre">Optional(OptType,</span> <span class="pre">null(OptType))</span></code>, i.e, the null object of <code class="docutils literal notranslate"><span class="pre">OptType</span></code> will be set as the default argument.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">OptType</span></code> is not <code class="docutils literal notranslate"><span class="pre">nullable</span></code>, it will be checked if it can be initialized. In this case, <code class="docutils literal notranslate"><span class="pre">Optional(OptType)</span></code> will return <code class="docutils literal notranslate"><span class="pre">Optional(OptType,</span> <span class="pre">OptType())</span></code>.</p></li>
<li><p>Finally, if not of the above conditions are satisfied, then <code class="docutils literal notranslate"><span class="pre">None</span></code> will be set as the default value. More precisely, <code class="docutils literal notranslate"><span class="pre">Optional(OptType)</span></code> will return <code class="docutils literal notranslate"><span class="pre">Optional(Maybe(OptType),</span> <span class="pre">None)</span></code>.</p></li>
</ol>
<p>In the definition of a model from a <em>model decorator</em>, an optional attribute can be defined by just setting a default value, or by making use of the <code class="docutils literal notranslate"><span class="pre">Optional</span></code> directive:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="n">OptType</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">tped.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">model</span><span class="p">,</span> <span class="n">Optional</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@model</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span>
<span class="linenos"> 7</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span>
<span class="linenos"> 8</span>    <span class="n">opt_attr</span><span class="p">:</span> <span class="n">OptType</span><span class="o">=</span><span class="n">default_value</span>
<span class="linenos"> 9</span>    <span class="o">...</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="nd">@model</span>
<span class="linenos">12</span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">:</span>
<span class="linenos">13</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span>
<span class="linenos">14</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span>
<span class="linenos">15</span>    <span class="n">opt_attr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">(</span><span class="n">OptType</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
<span class="linenos">16</span>    <span class="o">...</span>
</pre></div>
</div>
<p>The difference, here, is that you can customize the behavior of passing a single argument to <code class="docutils literal notranslate"><span class="pre">Optional</span></code> through the variable <code class="docutils literal notranslate"><span class="pre">nullable</span></code>. Indeed, if <code class="docutils literal notranslate"><span class="pre">nullable=False</span></code> in the <em>model decorator</em>, then <code class="docutils literal notranslate"><span class="pre">Optional(OptType)</span></code> will return <code class="docutils literal notranslate"><span class="pre">Optional(Maybe(OptType),</span> <span class="pre">None)</span></code> directly, without checking for nullability conditions for <code class="docutils literal notranslate"><span class="pre">OptType</span></code>.</p>
</section>
<section id="optional-decorator">
<h1>Optional Decorator<a class="headerlink" href="#optional-decorator" title="Link to this heading"></a></h1>
<p>Some times you want to define a model such that every attribute is optional. These are the so-called <em>optional models</em> and define a type <code class="docutils literal notranslate"><span class="pre">OPTIONAL</span></code>. You can quickly create an optional model by making use of the <code class="docutils literal notranslate"><span class="pre">&#64;optional</span></code> decorator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">optional</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@optional</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span>
<span class="linenos"> 7</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span><span class="o">=</span><span class="n">default_value</span>
<span class="linenos"> 8</span>    <span class="o">...</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">OPTIONAL</span><span class="p">))</span> <span class="c1"># returns True</span>
</pre></div>
</div>
<p>The above is equivalent to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">model</span><span class="p">,</span> <span class="n">Optional</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="nd">@model</span>
<span class="linenos">5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">(</span><span class="n">SomeType</span><span class="p">)</span>
<span class="linenos">7</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">(</span><span class="n">OtherType</span><span class="p">,</span> <span class="n">default_value</span><span class="p">)</span>
<span class="linenos">8</span>    <span class="o">...</span>
</pre></div>
</div>
<blockquote>
<div><p>While using <code class="docutils literal notranslate"><span class="pre">&#64;optional</span></code>, you can control the behavior of the single argument case of <code class="docutils literal notranslate"><span class="pre">Optional</span></code> by making use of the variable <code class="docutils literal notranslate"><span class="pre">nullable</span></code>. In other words, <code class="docutils literal notranslate"><span class="pre">&#64;optional(nullable=False)</span></code> implements the above, but with <code class="docutils literal notranslate"><span class="pre">&#64;model(nullable=False)</span></code>.</p>
</div></blockquote>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">optional</span></code> not to <em>define</em> an optional model, but to turn an <em>already existing</em> model into an optional model:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">optional</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">some.where</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyModel</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">OptionalModel</span> <span class="o">=</span> <span class="n">optional</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span>
<span class="linenos">5</span>
<span class="linenos">6</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">OPTIONAL</span><span class="p">))</span> <span class="c1"># returns True</span>
</pre></div>
</div>
<blockquote>
<div><p>The decorator <code class="docutils literal notranslate"><span class="pre">&#64;optional</span></code> preserves the <em>model type</em>. Indeed, if <code class="docutils literal notranslate"><span class="pre">isinstance(MyModel,</span> <span class="pre">EXACT)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then <code class="docutils literal notranslate"><span class="pre">isinstance(optional(MyModel),</span> <span class="pre">EXACT)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> as well, and similarly for the other model types.</p>
</div></blockquote>
</section>
<section id="mandatory-attributes">
<h1>Mandatory Attributes<a class="headerlink" href="#mandatory-attributes" title="Link to this heading"></a></h1>
<p>If an attribute in a model is not optional, it is <em>mandatory</em>. A model in which every attribute is mandatory is a <em>mandatory model</em>, which constitute a type <code class="docutils literal notranslate"><span class="pre">MANDATORY</span></code>.</p>
<p>Analogously to the optional case, there is a decorator <code class="docutils literal notranslate"><span class="pre">&#64;mandatory</span></code>. If used in the creation of a model, it ignores any introduction of the <code class="docutils literal notranslate"><span class="pre">Optional</span></code> directive or any default value:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="n">AnotherType</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">mandatory</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@mandatory</span>
<span class="linenos"> 5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span>
<span class="linenos"> 7</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span><span class="o">=</span><span class="n">default_value</span>
<span class="linenos"> 8</span>    <span class="n">another_attr</span><span class="p">:</span> <span class="n">Optional</span><span class="p">(</span><span class="n">AnotherType</span><span class="p">)</span>
<span class="linenos"> 9</span>    <span class="o">...</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">MANDATORY</span><span class="p">))</span> <span class="c1"># returns True</span>
</pre></div>
</div>
<p>The above is equivalent to:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">model</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="nd">@model</span>
<span class="linenos">5</span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="n">some_attr</span><span class="p">:</span> <span class="n">SomeType</span>
<span class="linenos">7</span>    <span class="n">other_attr</span><span class="p">:</span> <span class="n">OtherType</span>
<span class="linenos">8</span>    <span class="n">another_attr</span><span class="p">:</span> <span class="n">AnotherType</span>
<span class="linenos">9</span>    <span class="o">...</span>
</pre></div>
</div>
<p>The function <code class="docutils literal notranslate"><span class="pre">&#64;mandatory</span></code> can also be used to turn any already existing model into a mandatory model preserving its <em>model type</em>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">mandatory</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">some.where</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyModel</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="n">OptionalModel</span> <span class="o">=</span> <span class="n">mandatory</span><span class="p">(</span><span class="n">MyModel</span><span class="p">)</span><span class="o">.</span>
<span class="linenos">5</span>
<span class="linenos">6</span><span class="nb">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">MyModel</span><span class="p">,</span> <span class="n">MANDATORY</span><span class="p">))</span> <span class="c1"># returns True</span>
</pre></div>
</div>
<p>In the above, if <code class="docutils literal notranslate"><span class="pre">isinstance(MyModel,</span> <span class="pre">EXACT)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, then <code class="docutils literal notranslate"><span class="pre">isinstance(optional(MyModel),</span> <span class="pre">EXACT)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> as well, and similarly for the other model types.</p>
</section>
<section id="model-extension">
<h1>Model Extension<a class="headerlink" href="#model-extension" title="Link to this heading"></a></h1>
<p>A model can be created <em>extending</em> other models. This ensures that the new model have at least the attributes that are defined in the model is extended. This is the <em>inheritance</em> behavior of models.</p>
<p>While defining a new model from a <em>model factory</em>, the models that are being extended can be listed in a <code class="docutils literal notranslate"><span class="pre">__extends__</span></code> variable in the factory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelFactory</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">some.where</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeModel</span><span class="p">,</span> <span class="n">OtherModel</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">MyModel</span> <span class="o">=</span> <span class="n">ModelFactory</span><span class="p">(</span>
<span class="linenos"> 6</span>    <span class="n">__extends__</span><span class="o">=</span><span class="p">[</span><span class="n">SomeModel</span><span class="p">,</span> <span class="n">OtherModel</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="linenos"> 7</span>    <span class="n">some_attr</span><span class="o">=</span><span class="n">SomeType</span><span class="p">,</span>
<span class="linenos"> 8</span>    <span class="n">other_attr</span><span class="o">=</span><span class="n">OtherType</span><span class="p">,</span>
<span class="linenos"> 9</span>    <span class="o">...</span>
<span class="linenos">10</span><span class="p">)</span>
</pre></div>
</div>
<p>In the case of using <em>model decorators</em>, the extended models are passed in the variable <code class="docutils literal notranslate"><span class="pre">extends</span></code> (in the example below, the same works for other model decorators):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">model</span>
<span class="linenos">3</span><span class="kn">from</span><span class="w"> </span><span class="nn">some.where</span><span class="w"> </span><span class="kn">import</span> <span class="n">SomeModel</span><span class="p">,</span> <span class="n">OtherModel</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="nd">@model</span><span class="p">(</span><span class="n">extends</span><span class="o">=</span><span class="p">[</span><span class="n">SomeModel</span><span class="p">,</span> <span class="n">OtherModel</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
<span class="linenos">6</span><span class="k">class</span><span class="w"> </span><span class="nc">MyModel</span><span class="p">:</span>
<span class="linenos">7</span>    <span class="n">some_attr</span><span class="o">=</span><span class="n">SomeType</span><span class="p">,</span>
<span class="linenos">8</span>    <span class="n">other_attr</span><span class="o">=</span><span class="n">OtherType</span><span class="p">,</span>
<span class="linenos">9</span>    <span class="o">...</span>
</pre></div>
</div>
<blockquote>
<div><p>The variables <code class="docutils literal notranslate"><span class="pre">__extends__</span></code> and <code class="docutils literal notranslate"><span class="pre">extends</span></code> accept not only <code class="docutils literal notranslate"><span class="pre">List(MODEL)</span></code> type, but also other iterative types based on some model type, as  <code class="docutils literal notranslate"><span class="pre">Tuple(MODEL)</span></code>, <code class="docutils literal notranslate"><span class="pre">Set(MODEL)</span></code> or even just <code class="docutils literal notranslate"><span class="pre">MODEL</span></code> if a single model will be extended.</p>
</div></blockquote>
</section>
<section id="filtering-models">
<h1>Filtering Models<a class="headerlink" href="#filtering-models" title="Link to this heading"></a></h1>
</section>
<section id="model-attributes">
<h1>Model Attributes<a class="headerlink" href="#model-attributes" title="Link to this heading"></a></h1>
<p>The <em>model types</em> <code class="docutils literal notranslate"><span class="pre">MODEL</span></code>, <code class="docutils literal notranslate"><span class="pre">EXACT</span></code>, and so on, have certain properties, which define corresponding attributes to their models: the so-called <em>model attributes</em>. They are described below:</p>
<div class="captioned-table" id="table-6">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>attribute</p></th>
<th class="head"><p>meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>.is_model</p></td>
<td><p>True for MODEL instances</p></td>
</tr>
<tr class="row-odd"><td><p>.is_exact</p></td>
<td><p>True for EXACT instances</p></td>
</tr>
<tr class="row-even"><td><p>.is_ordered</p></td>
<td><p>True for ORDERED instances</p></td>
</tr>
<tr class="row-odd"><td><p>.is_rigid</p></td>
<td><p>True for RIGID instances</p></td>
</tr>
<tr class="row-even"><td><p>.attrs</p></td>
<td><p>dict of all attributes</p></td>
</tr>
<tr class="row-odd"><td><p>.optional_attrs</p></td>
<td><p>dict of optional attributes</p></td>
</tr>
<tr class="row-even"><td><p>.mandatory_attrs</p></td>
<td><p>dict of mandatory attributes</p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-6">table 6: model attributes</a></p>
</div>
</section>
<section id="model-operations">
<h1>Model Operations<a class="headerlink" href="#model-operations" title="Link to this heading"></a></h1>
<p>… TBA …</p>
</section>
<section id="other-docs">
<h1>Other Docs<a class="headerlink" href="#other-docs" title="Link to this heading"></a></h1>
<ol class="arabic simple">
<li><p><a class="reference internal" href="overview.html">overview</a></p></li>
<li><p><a class="reference internal" href="types.html">types</a></p></li>
<li><p><a class="reference internal" href="errors.html">errors</a></p></li>
<li><p><a class="reference internal" href="examples.html">examples</a></p></li>
<li><p><a class="reference internal" href="api.html">api</a></p></li>
<li><p><a class="reference internal" href="glossary.html">glossary</a></p></li>
<li><p><a class="reference internal" href="changelog.html">changelog</a></p></li>
</ol>
</section>
</main>
            </div>
        </div>
        <footer class="footer">
            <p class="footer-text">
                Yuri Ximenes, 2025. Last update: <purple>2025/09/25 at 14:19</purple>.<br>
                Made using <a href="https://www.sphinx-doc.org/en/master/">sphinx</a>.
            </p>
        </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.matchMedia("(max-width: 768px)").matches) {
                document.querySelectorAll('.sidebar-collapsible > details[open]').forEach(function(details){
                    details.removeAttribute('open');
                });
            }
        });
    </script>
    </body>  
</html>