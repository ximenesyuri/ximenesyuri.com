<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>yx - libs/typed/types</title>
        <link rel="stylesheet" href="/_static/index.css">
        <link rel="stylesheet" href="/_static/pygments.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                renderMathInElement(document.body, {
                  delimiters: [
                      {left: ':::tex', right: ':::', display: true},
                      {left: ':tex', right: ':', display: false},
                  ],
                  throwOnError : false
                });
            });
        </script>
    </head>     
    <body>
        <header class="header">
            <div class="menu-div">
                
                    <a href="/" class="menu-item">home</a>
                
                    <a href="/about" class="menu-item">about</a>
                
                    <a href="/education" class="menu-item">education</a>
                
                    <a href="/research" class="menu-item">research</a>
                
                    <a href="/publications" class="menu-item">publications</a>
                
                    <a href="/work" class="menu-item">work</a>
                
                    <a href="/setup" class="menu-item">setup</a>
                
                    <a href="/libs" class="menu-item ">libs</a>
                
                    <a href="/notes" class="menu-item ">notes</a>
                
            </div>    
        </header>
        <div class="content">
            
            
            <div class="sidebar">
                <span class="sidebar-title">libs menu</span>
                <ul class="sidebar-ul">
                    
                        
    
    

    
        <li class="sidebar-collapsible">
            <details open>
                <summary>
                  <span></span>
                  
                      <a href="/libs/typed">typed</a>
                  
                </summary>
                <ul class="sidebar-ul-inner-1">
                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/overview">overview</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/types">types</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/models">models</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/errors">errors</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/examples">examples</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/entities">lists of entities</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/typed/glossary">glossary</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">└─</span>
            
                <a href="/libs/typed/changelog">changelog</a>
            
            
        </li>
    

                    
                </ul>
            </details>
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-collapsible">
            <details open>
                <summary>
                  <span></span>
                  
                      <a href="/libs/comp">comp</a>
                  
                </summary>
                <ul class="sidebar-ul-inner-1">
                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/overview">overview</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/jinja">jinja</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/components">components</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/models">models</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/rendering">rendering</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/statics">statics</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/compatibility">compatibility</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/entities">list of entities</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">├─</span>
            
                <a href="/libs/comp/glossary">glossary</a>
            
            
        </li>
    

                    
                        
    
    
        
            
        
    

    
        <li class="sidebar-li">
            <span class="sidebar-prefix-1">└─</span>
            
                <a href="/libs/comp/changelog">changelog</a>
            
            
        </li>
    

                    
                </ul>
            </details>
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-li-0">
            <span></span>
              
                  <a href="/libs/cli">cli</a>
               
        </li>
    

                    
                        
    
    

    
        <li class="sidebar-li-0">
            <span></span>
              
                  <a href="/libs/utils">utils</a>
               
        </li>
    

                    
                </ul>
            </div>
            
            
            <div class="main">
                
                    


<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
    
    
        
            
            <li class="breadcrumb-item">
                <a href="/libs">libs</a>
            </li>
        
    
        
            
            <li class="breadcrumb-item">
                <span class="breadcrumb-separator">/</span><a href="/libs/typed">typed</a>
            </li>
        
    
        
            <li class="breadcrumb-item active" aria-current="page">
                <span class="breadcrumb-separator">/</span><a href="/libs/typed/types">types</a>
            </li>
        
    
    </ol>
</nav>

                
                
                <main><section id="about">
<h1>About<a class="headerlink" href="#about" title="Link to this heading"></a></h1>
<p>This documentation describes the <em>type system</em> provided by {typed} and how to use it.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#overview">Overview</a></p></li>
<li><p><a class="reference internal" href="#types">Types</a></p></li>
<li><p><a class="reference internal" href="#defining-types">Defining Types</a></p></li>
<li><p><a class="reference internal" href="#metatypes">Metatypes</a></p></li>
<li><p><a class="reference internal" href="#factories">Factories</a></p></li>
<li><p><a class="reference internal" href="#defining-factories">Defining Factories</a></p></li>
<li><p><a class="reference internal" href="#annotations-models-and-dependent-types">Annotations, Models and Dependent Types</a></p></li>
<li><p><a class="reference internal" href="#typed-functions">Typed Functions</a></p></li>
<li><p><a class="reference internal" href="#typed-variables">Typed Variables</a></p></li>
<li><p><a class="reference internal" href="#other-docs">Other Docs</a></p></li>
</ol>
</section>
<section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h1>
<p>In {typed} type system we have three kinds of entities:</p>
<ol class="arabic simple">
<li><p><em>types</em>: are the basic entities</p></li>
<li><p><em>factories</em>: are functions used to build <code class="docutils literal notranslate"><span class="pre">types</span></code></p></li>
<li><p><em>typed functions</em>: are functions with type hints checked at runtime.</p></li>
</ol>
</section>
<section id="types">
<h1>Types<a class="headerlink" href="#types" title="Link to this heading"></a></h1>
<p>A {typed} is just a class named in <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code>. Types can be organized into <em>primitive types</em> and <em>derived types</em>. The first ones are those that come already defined in {typed}. The other ones are those constructed by the user by making use of <code class="docutils literal notranslate"><span class="pre">factories</span></code>, as we will see in the sequence.</p>
<p>There are a lot of <em>primitive types</em>. Some of them are Python builtins.</p>
<div class="captioned-table" id="table-1">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>type</p></th>
<th class="head"><p>python builtin</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Int</p></td>
<td><p>int</p></td>
</tr>
<tr class="row-odd"><td><p>Float</p></td>
<td><p>float</p></td>
</tr>
<tr class="row-even"><td><p>Str</p></td>
<td><p>str</p></td>
</tr>
<tr class="row-odd"><td><p>Bool</p></td>
<td><p>bool</p></td>
</tr>
<tr class="row-even"><td><p>Nill</p></td>
<td><p>type(None)</p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-1">table 1</a></p>
</div>
<p>Other examples of <em>primitive types</em> in {typed} which are not Python builtins, include:</p>
<div class="captioned-table" id="table-2">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>type</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Any</p></td>
<td><p>the type of anything</p></td>
</tr>
<tr class="row-odd"><td><p>Json</p></td>
<td><p>the type of a json entity</p></td>
</tr>
<tr class="row-even"><td><p>Path</p></td>
<td><p>the type of paths</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-2">table 2</a></p>
</div>
<blockquote>
<div><p>For the full list of primitive and types, see <a class="reference internal" href="entities"><span class="doc std std-doc">here</span></a>.</p>
</div></blockquote>
</section>
<section id="defining-types">
<h1>Defining Types<a class="headerlink" href="#defining-types" title="Link to this heading"></a></h1>
<p>Although any <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> class is an acceptable type, in {typed} the types are typically subject to the following conditions:</p>
<ol class="arabic simple">
<li><p>they are constructed as the concretization of a <code class="docutils literal notranslate"><span class="pre">metaclass</span></code></p></li>
<li><p>they are a subclass of some already defined {typed} type</p></li>
<li><p>they have a explicit <code class="docutils literal notranslate"><span class="pre">__instancecheck__</span></code> method</p></li>
<li><p>they may contains a explicit <code class="docutils literal notranslate"><span class="pre">__subclasscheck__</span></code> method</p></li>
</ol>
<p>So, a typical definition of <code class="docutils literal notranslate"><span class="pre">type</span></code> is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># the metaclass</span>
<span class="linenos"> 2</span><span class="k">class</span><span class="w"> </span><span class="nc">_SomeType</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">existing_type</span><span class="p">)):</span>
<span class="linenos"> 3</span>    <span class="o">...</span>
<span class="linenos"> 4</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__instancecheck__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="linenos"> 5</span>        <span class="o">...</span>
<span class="linenos"> 6</span>    <span class="k">def</span><span class="w"> </span><span class="fm">__subclasscheck__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">subclass</span><span class="p">):</span>
<span class="linenos"> 7</span>        <span class="o">...</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="c1"># the new type</span>
<span class="linenos">10</span><span class="n">SomeType</span> <span class="o">=</span> <span class="n">_SomeType</span><span class="p">(</span><span class="s1">&#39;SomeType&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">existing_type</span><span class="p">,)</span> <span class="p">{})</span>
</pre></div>
</div>
</section>
<section id="metatypes">
<h1>Metatypes<a class="headerlink" href="#metatypes" title="Link to this heading"></a></h1>
<p>A very special kind of types are the so-called <em>metatypes</em>. They are “types of types”, being named in <code class="docutils literal notranslate"><span class="pre">UPPERCASE</span></code> notation instead of in <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> notation.</p>
<ul class="simple">
<li><p>The main example of <em>metatype</em> is <code class="docutils literal notranslate"><span class="pre">TYPE</span></code> which is the <code class="docutils literal notranslate"><span class="pre">type</span></code> of all types.</p></li>
</ul>
<p>In more precise terms, a <code class="docutils literal notranslate"><span class="pre">metatype</span></code> is any object <code class="docutils literal notranslate"><span class="pre">t</span></code> such that:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">issubclass(t,</span> <span class="pre">TYPE)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>;</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">t)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> for some <code class="docutils literal notranslate"><span class="pre">x</span></code>, then <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">TYPE)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> as well.</p></li>
</ol>
<blockquote>
<div><p>The <em>metatypes</em> form themselves a metatype <code class="docutils literal notranslate"><span class="pre">META</span></code>.</p>
</div></blockquote>
</section>
<section id="factories">
<h1>Factories<a class="headerlink" href="#factories" title="Link to this heading"></a></h1>
<p>In {typed}, a <em>factory</em> is a <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> named function that returns a type. It can receive types (i.e, instances of <code class="docutils literal notranslate"><span class="pre">TYPE</span></code>) as arguments or anything else. In the case where it receive only types as arguments, a <em>factory</em> is viewed as a “type operation”.</p>
<blockquote>
<div><p>Another way of thinking about a <em>factory</em> is as a <a class="reference external" href="https://en.wikipedia.org/wiki/Dependent_type">dependent type</a>, as will be discussed later.</p>
</div></blockquote>
<p>There a lot of predefined <em>factories</em> in {typed}. Some examples of factories that can be viewed as “type operations” are the following:</p>
<div class="captioned-table" id="table-3">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>factory</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Union</p></td>
<td><p>returns the union type of types</p></td>
</tr>
<tr class="row-odd"><td><p>List</p></td>
<td><p>returns the type of list elements of given types</p></td>
</tr>
<tr class="row-even"><td><p>Tuple</p></td>
<td><p>returns the type of tuple elements of given types</p></td>
</tr>
<tr class="row-odd"><td><p>Set</p></td>
<td><p>returns the type of set elements of given types</p></td>
</tr>
<tr class="row-even"><td><p>Dict</p></td>
<td><p>returns the type of dict elements of given types</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-3">table 3</a></p>
</div>
<p>Other examples, which are not “type operations”, are:</p>
<div class="captioned-table" id="table-4">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>factory</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Regex</p></td>
<td><p>returns type of strings that matches a regex</p></td>
</tr>
<tr class="row-odd"><td><p>Len</p></td>
<td><p>returns the subtype of objects of a given lenght</p></td>
</tr>
<tr class="row-even"><td><p>Not</p></td>
<td><p>returns any object which is an instance of given types</p></td>
</tr>
<tr class="row-odd"><td><p>Enum</p></td>
<td><p>returns the type formed by fixed values of a given type</p></td>
</tr>
<tr class="row-even"><td><p>Single</p></td>
<td><p>returns the type with a single given object</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-4">table 4</a></p>
</div>
<p>Similarly, a <em>metafactory</em> is a <code class="docutils literal notranslate"><span class="pre">factory</span></code> which returns a <em>metatype</em>. As happens with metatypes, metafactories are denoted with <code class="docutils literal notranslate"><span class="pre">UPPERCASE</span></code> notation. Some examples are the following:</p>
<div class="captioned-table" id="table-5">
<table class="custom-pre-table docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>metafactory</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SUB</p></td>
<td><p>returns the metatype of all subtypes of given types</p></td>
</tr>
<tr class="row-odd"><td><p>NOT</p></td>
<td><p>returns the metatype of all types which are not the given types</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><a class="table-caption reference external" href="#table-5">table 5</a></p>
</div>
<blockquote>
<div><p>For the list and definition of all predefined factories, see <a class="reference internal" href="entities"><span class="doc std std-doc">here</span></a>.</p>
</div></blockquote>
</section>
<section id="defining-factories">
<h1>Defining Factories<a class="headerlink" href="#defining-factories" title="Link to this heading"></a></h1>
<p>Besides the predefined factories, you can create your own. In this case, it is recommended to use the decorator <code class="docutils literal notranslate"><span class="pre">&#64;factory</span></code> in order to ensure type safety in the factory definition. The basic structure of a factory is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">factory</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">TYPE</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="nd">@factory</span>
<span class="linenos"> 4</span><span class="k">def</span><span class="w"> </span><span class="nf">SomeFactory</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">(</span><span class="o">...</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">TYPE</span><span class="p">:</span>
<span class="linenos"> 5</span>    <span class="o">...</span>
<span class="linenos"> 6</span>    <span class="c1"># 1. do something</span>
<span class="linenos"> 7</span>    <span class="o">...</span>
<span class="linenos"> 8</span>    <span class="c1"># 2. constructs a metaclass involving the &#39;*args&#39;</span>
<span class="linenos"> 9</span>    <span class="k">class</span><span class="w"> </span><span class="nc">_SomeType</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="o">...</span><span class="p">)):</span>
<span class="linenos">10</span>        <span class="o">...</span>
<span class="linenos">11</span>        <span class="k">def</span><span class="w"> </span><span class="fm">__instancecheck__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="linenos">12</span>            <span class="o">...</span>
<span class="linenos">13</span>        <span class="k">def</span><span class="w"> </span><span class="fm">__subclasscheck__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">subclass</span><span class="p">):</span>
<span class="linenos">14</span>            <span class="o">...</span>
<span class="linenos">15</span>    <span class="c1"># 3. returns a concrete class</span>
<span class="linenos">16</span>    <span class="o">...</span>
<span class="linenos">17</span>    <span class="k">return</span> <span class="n">_SomeType</span><span class="p">(</span><span class="s1">&#39;SomeType&#39;</span><span class="p">,</span> <span class="p">(</span><span class="o">...</span><span class="p">,),</span> <span class="p">{</span><span class="o">...</span><span class="p">})</span>
</pre></div>
</div>
</section>
<section id="annotations-models-and-dependent-types">
<h1>Annotations, Models and Dependent Types<a class="headerlink" href="#annotations-models-and-dependent-types" title="Link to this heading"></a></h1>
<p>As you can note from <a class="reference internal" href="#table-1">table above</a>, there is a factory associated to each annotation in the library <code class="docutils literal notranslate"><span class="pre">typing</span></code>. In this sense, you can also think of a <code class="docutils literal notranslate"><span class="pre">factory</span></code> as a way to implement the type annotations from <code class="docutils literal notranslate"><span class="pre">typing</span></code>:</p>
<blockquote>
<div><p>{typed} <em>can be viewed as a library in which type hints really work</em>.</p>
</div></blockquote>
<p>Note that the <em>factories</em> of {typed} that corresponds to type annotations in <code class="docutils literal notranslate"><span class="pre">typing</span> </code> are always “type operations”. On other and, we commented that there are other kinds of factories. Therefore, actually</p>
<blockquote>
<div><p>{typed} <em>does much more than just implement type annotations</em>.</p>
</div></blockquote>
<p>A special flavor of factories are the so-called <em>models</em>. They receive a bunch of arguments and produces types that have such arguments as attributes. They work similar  to <a class="reference external" href="https://docs.python.org/3/library/dataclasses.html">dataclasses</a> or to classes that extends <code class="docutils literal notranslate"><span class="pre">BaseModel</span></code> in <a class="reference external" href="https://docs.pydantic.dev/latest/">pydantic</a>, being specially used for data validation (this will be discussed in the sequence - see <a class="reference internal" href="models"><span class="doc std std-doc">here</span></a>). So:</p>
<blockquote>
<div><p>{typed} <em>provides an effective mechanism for data validation</em>.</p>
</div></blockquote>
<p>A generic factory is a function <code class="docutils literal notranslate"><span class="pre">factory:</span> <span class="pre">X</span> <span class="pre">-&gt;</span> <span class="pre">TYPE</span></code> that assigns a type to a collection of arguments, hence can be viewed as an “indexed family of types”, hence as an implementation of <a class="reference external" href="https://en.wikipedia.org/wiki/Dependent_type">dependent types</a> in Python:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">typed</span></code> <em>implements dependent types in Python</em>.</p>
</div></blockquote>
</section>
<section id="typed-functions">
<h1>Typed Functions<a class="headerlink" href="#typed-functions" title="Link to this heading"></a></h1>
<p>In {typed}, there is a distinguished class of functions: the <em>typed functions</em>. They have the following characteristics:</p>
<ol class="arabic simple">
<li><p>they are defined using the <code class="docutils literal notranslate"><span class="pre">&#64;typed</span></code> decorator;</p></li>
<li><p>each of its arguments is decorated with an annotation given by a {typed} <em>type</em>;</p></li>
<li><p>it also has a return annotation given by a {typed} <em>type</em>.</p></li>
</ol>
<p>So, in essence, the structure of a <em>typed function</em> is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">typed</span><span class="p">,</span> <span class="n">SomeType</span><span class="p">,</span> <span class="n">OtherType</span><span class="p">,</span> <span class="o">...</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="nd">@typed</span>
<span class="linenos">4</span><span class="k">def</span><span class="w"> </span><span class="nf">my_function</span><span class="p">(</span><span class="n">some_var</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OtherType</span><span class="p">:</span>
<span class="linenos">5</span>    <span class="o">...</span>
</pre></div>
</div>
<p>When you define a function as a <em>typed function</em>, its type annotations are checked at runtime, ensuring type safety. This means that, looking at the examples above, if at runtime <code class="docutils literal notranslate"><span class="pre">some_var</span></code> is not an instance of <code class="docutils literal notranslate"><span class="pre">SomeType</span></code>, or if the return value of <code class="docutils literal notranslate"><span class="pre">my_function</span></code> is not an instance of <code class="docutils literal notranslate"><span class="pre">OtherType</span></code>, then a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> will be raised.</p>
<blockquote>
<div><p>The type errors from {typed} are as intuitive as possible. For more about them, see <a class="reference internal" href="errors"><span class="doc std std-doc">errors</span></a>.</p>
</div></blockquote>
</section>
<section id="typed-variables">
<h1>Typed Variables<a class="headerlink" href="#typed-variables" title="Link to this heading"></a></h1>
<p>As a function, the <code class="docutils literal notranslate"><span class="pre">&#64;typed</span></code> decorator can be applied not only to functions, but also to <em>types</em>, allowing us to define <em>typed variables</em>, as below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">typed</span><span class="w"> </span><span class="kn">import</span> <span class="n">typed</span><span class="p">,</span> <span class="n">SomeType</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="n">some_var</span> <span class="o">=</span> <span class="n">typed</span><span class="p">(</span><span class="n">SomeType</span><span class="p">)</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">some_var</span> <span class="o">=</span> <span class="n">typed</span><span class="p">(</span><span class="n">SomeType</span><span class="p">,</span> <span class="n">some_value</span><span class="p">)</span>
</pre></div>
</div>
<p>In both cases above, at runtime it will be checked if <code class="docutils literal notranslate"><span class="pre">some_var</span></code> has the defined type <code class="docutils literal notranslate"><span class="pre">SomeType</span></code>, returning a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> otherwise.</p>
</section>
<section id="other-docs">
<h1>Other Docs<a class="headerlink" href="#other-docs" title="Link to this heading"></a></h1>
<ol class="arabic simple">
<li><p><a class="reference internal" href="overview.html">overview</a></p></li>
<li><p><a class="reference internal" href="models.html">models</a></p></li>
<li><p><a class="reference internal" href="errors.html">errors</a></p></li>
<li><p><a class="reference internal" href="examples.html">examples</a></p></li>
<li><p><a class="reference internal" href="entities.html">lists of entities</a></p></li>
<li><p><a class="reference internal" href="glossary.html">glossary</a></p></li>
<li><p><a class="reference internal" href="changelog.html">changelog</a></p></li>
</ol>
</section>
</main>
            </div>
        </div>
        <footer class="footer">
            <p class="footer-text">
                Yuri Ximenes, 2025. Last update: <purple>2025/08/25 at 14:44</purple>.<br>
                Made using <a href="https://www.sphinx-doc.org/en/master/">sphinx</a>.
            </p>
        </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.matchMedia("(max-width: 768px)").matches) {
                document.querySelectorAll('.sidebar-collapsible > details[open]').forEach(function(details){
                    details.removeAttribute('open');
                });
            }
        });
    </script>
    </body>  
</html>